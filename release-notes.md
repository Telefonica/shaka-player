:robot: I have created a release *beep* *boop*
---


## [3.4.0](https://github.com/Telefonica/stv-shaka-player/compare/v3.3.19...v3.4.0) (2023-09-14)


### Features

* Add a config to dispatch all emsg boxes. ([#3653](https://github.com/Telefonica/stv-shaka-player/issues/3653)) ([ea3568d](https://github.com/Telefonica/stv-shaka-player/commit/ea3568d7261237a571f23524012072008d01c1ae)), closes [#3348](https://github.com/Telefonica/stv-shaka-player/issues/3348)
* Add align and vertical settings to WebVttGenerator ([#3413](https://github.com/Telefonica/stv-shaka-player/issues/3413)) ([9ffc111](https://github.com/Telefonica/stv-shaka-player/commit/9ffc111c497f90028d0d1f2662aa9e7563c9694f))
* Add blob-url support ([#3583](https://github.com/Telefonica/stv-shaka-player/issues/3583)) ([6a03207](https://github.com/Telefonica/stv-shaka-player/commit/6a032078e934e6517516b225ab993f9e857ff5d2)), closes [#1481](https://github.com/Telefonica/stv-shaka-player/issues/1481)
* Add callback for apps to pre-process DASH manifests ([#3480](https://github.com/Telefonica/stv-shaka-player/issues/3480)) ([9afa4eb](https://github.com/Telefonica/stv-shaka-player/commit/9afa4eb20da67adb0dcb50f34e41f0ea9c109972)), closes [#3339](https://github.com/Telefonica/stv-shaka-player/issues/3339)
* Add chapters support ([#2972](https://github.com/Telefonica/stv-shaka-player/issues/2972)) ([160e36b](https://github.com/Telefonica/stv-shaka-player/commit/160e36be46b1af8ca4448d96f47e12cfac70c6aa))
* Add Common Media Client Data (CMCD) logging support ([#3662](https://github.com/Telefonica/stv-shaka-player/issues/3662)) ([221637a](https://github.com/Telefonica/stv-shaka-player/commit/221637a66c04d4fdc4767fea027c48a5601ac972)), closes [#3619](https://github.com/Telefonica/stv-shaka-player/issues/3619)
* Add goToLive method ([#3527](https://github.com/Telefonica/stv-shaka-player/issues/3527)) ([84b9a89](https://github.com/Telefonica/stv-shaka-player/commit/84b9a89f045b195df3423f1bcd62a5dc40d42f98))
* Add media quality change events ([#3700](https://github.com/Telefonica/stv-shaka-player/issues/3700)) ([bd7b384](https://github.com/Telefonica/stv-shaka-player/commit/bd7b384c662b04ca4d9d083cc210ac7776a138a4)), closes [#3431](https://github.com/Telefonica/stv-shaka-player/issues/3431)
* Add public access to more drm members. ([1125184](https://github.com/Telefonica/stv-shaka-player/commit/1125184bfe08863677cb996b0f13d49e18eeade9))
* Add randomUUID polyfill ([#3669](https://github.com/Telefonica/stv-shaka-player/issues/3669)) ([a72adca](https://github.com/Telefonica/stv-shaka-player/commit/a72adca9fd62144f70da61314e785074f374427a))
* Add support to HLS Image Media Playlists ([#3365](https://github.com/Telefonica/stv-shaka-player/issues/3365)) ([2a4083b](https://github.com/Telefonica/stv-shaka-player/commit/2a4083bab89bf683f58be73a0cba5e4c70cf8ae3)), closes [#2429](https://github.com/Telefonica/stv-shaka-player/issues/2429)
* Adds advanced ABR config options ([#3706](https://github.com/Telefonica/stv-shaka-player/issues/3706)) ([d667e50](https://github.com/Telefonica/stv-shaka-player/commit/d667e50aa3a845ce48f818ac4c4118af88164656)), closes [#3422](https://github.com/Telefonica/stv-shaka-player/issues/3422)
* **ads:** Integrate with non-linear IMA CS ads ([#3639](https://github.com/Telefonica/stv-shaka-player/issues/3639)) ([9c3bed3](https://github.com/Telefonica/stv-shaka-player/commit/9c3bed3d601d27c6df27a1e6946a49c86e4f3db4)), closes [#2596](https://github.com/Telefonica/stv-shaka-player/issues/2596)
* **ARIA:** Add polyfill for ARIAMixin. ([cf2fb90](https://github.com/Telefonica/stv-shaka-player/commit/cf2fb903cb802cb89c010b60ea4594cc0f40e1b0)), closes [#3378](https://github.com/Telefonica/stv-shaka-player/issues/3378)
* **CodecPreference:** Add preferred codecs config ([9a706ef](https://github.com/Telefonica/stv-shaka-player/commit/9a706ef90e7829f51edebc6a521b08f800c3ab2b)), closes [#2179](https://github.com/Telefonica/stv-shaka-player/issues/2179)
* **CodecPreference:** Improve preferredVideoCodecs & preferredAudioCodecs ([#3424](https://github.com/Telefonica/stv-shaka-player/issues/3424)) ([0579ee7](https://github.com/Telefonica/stv-shaka-player/commit/0579ee77797548c2e91622ef87a6a9b778437c25))
* **dash:** Create segment index only when used ([b16d30c](https://github.com/Telefonica/stv-shaka-player/commit/b16d30c249586ae569fc9d632e3be593cb095ed8))
* Export LanguageUtils ([5783694](https://github.com/Telefonica/stv-shaka-player/commit/57836942c6e5bc93d37dd9ee6342ac586150f844)), closes [#3692](https://github.com/Telefonica/stv-shaka-player/issues/3692)
* **hls:** Make default HLS audio/video codecs configurable ([#3651](https://github.com/Telefonica/stv-shaka-player/issues/3651)) ([52d68a2](https://github.com/Telefonica/stv-shaka-player/commit/52d68a29c86ec5696bfaf36abb5ba055f29180f8))
* **net:** Add response HTTP status to Networking engine responses ([#3641](https://github.com/Telefonica/stv-shaka-player/issues/3641)) ([2701527](https://github.com/Telefonica/stv-shaka-player/commit/27015278cd905631c9c4edbc164c8639f5d90c61)), closes [#3640](https://github.com/Telefonica/stv-shaka-player/issues/3640)
* **offline:** Changed store order of operations. ([5215f53](https://github.com/Telefonica/stv-shaka-player/commit/5215f5319fef03b2b4881845dd50a06f1c4be8af)), closes [#879](https://github.com/Telefonica/stv-shaka-player/issues/879)
* **offline:** Load init segments first for keys ([db8ad31](https://github.com/Telefonica/stv-shaka-player/commit/db8ad31bfbe1c2b9a372daad893d900e77d5e484)), closes [#879](https://github.com/Telefonica/stv-shaka-player/issues/879)
* **offline:** Make segment storage stateless. ([aded252](https://github.com/Telefonica/stv-shaka-player/commit/aded252e40445f4c65565932fb400b35d9a18e59)), closes [#879](https://github.com/Telefonica/stv-shaka-player/issues/879)
* **player:** Add updateStartTime method to play ([#3491](https://github.com/Telefonica/stv-shaka-player/issues/3491)) ([16c1810](https://github.com/Telefonica/stv-shaka-player/commit/16c1810b0321724b0daa44cf7f4736b0b0983153))
* **player:** Added events for download lifecycle. ([7893b77](https://github.com/Telefonica/stv-shaka-player/commit/7893b7733b7190e820dea28c6ea1bb4629ca1d88)), closes [#3533](https://github.com/Telefonica/stv-shaka-player/issues/3533)
* Support frequent updates during streaming ([#3483](https://github.com/Telefonica/stv-shaka-player/issues/3483)) ([6e69bed](https://github.com/Telefonica/stv-shaka-player/commit/6e69bed0160fcf61c8f42d7600147824e8453299)), closes [#3332](https://github.com/Telefonica/stv-shaka-player/issues/3332)
* **text:** Partially support tts:textOutline ([911ce6d](https://github.com/Telefonica/stv-shaka-player/commit/911ce6d25037bdc3981cbeda93f74e596acafc0f)), closes [#3612](https://github.com/Telefonica/stv-shaka-player/issues/3612)
* **ui:** Add configurable rates ([#3579](https://github.com/Telefonica/stv-shaka-player/issues/3579)) ([f65b093](https://github.com/Telefonica/stv-shaka-player/commit/f65b093d40f1c1f0d4e5e8e47fcc128ff3ca74ea)), closes [#3443](https://github.com/Telefonica/stv-shaka-player/issues/3443)
* **ui:** Add Quality, Language, Playback, Captions buttons to control panel ([#3465](https://github.com/Telefonica/stv-shaka-player/issues/3465)) ([481b378](https://github.com/Telefonica/stv-shaka-player/commit/481b378a4bb249fb13c6a2f9916e38c859fcbe3f))
* **ui:** Add right-click context menu, statistics button ([#3548](https://github.com/Telefonica/stv-shaka-player/issues/3548)) ([afb9310](https://github.com/Telefonica/stv-shaka-player/commit/afb93106a71ce0868edba3159a84e889ee0694ad)), closes [#2607](https://github.com/Telefonica/stv-shaka-player/issues/2607)
* **ui:** Add tooltips to control panel buttons ([#3572](https://github.com/Telefonica/stv-shaka-player/issues/3572)) ([d5769ee](https://github.com/Telefonica/stv-shaka-player/commit/d5769eeda47524998a714a3d701604561d761b6d)), closes [#3269](https://github.com/Telefonica/stv-shaka-player/issues/3269)
* **ui:** Added Loop and PIP to context menu, and Statistics to overflow menu ([#3578](https://github.com/Telefonica/stv-shaka-player/issues/3578)) ([34958c8](https://github.com/Telefonica/stv-shaka-player/commit/34958c81b934bb3d6c9bb4f671be7305430ff9ab))
* **UI:** Adds singleClickForPlayAndPause config ([8aacdcf](https://github.com/Telefonica/stv-shaka-player/commit/8aacdcf76ca80f5927205995584fb9e8d1cf774d)), closes [#3821](https://github.com/Telefonica/stv-shaka-player/issues/3821)
* **UI:** Exit PiP when destroying UI ([38cfc23](https://github.com/Telefonica/stv-shaka-player/commit/38cfc230483133862cc41153931f4dc170eb4a75)), closes [#3553](https://github.com/Telefonica/stv-shaka-player/issues/3553)


### Bug Fixes

* `config.streaming.preferNativeHls` only applies to HLS streams ([#5167](https://github.com/Telefonica/stv-shaka-player/issues/5167)) ([1dacefc](https://github.com/Telefonica/stv-shaka-player/commit/1dacefc93c4bab4e1200c85f085dba09b0ff09c7)), closes [#5166](https://github.com/Telefonica/stv-shaka-player/issues/5166)
* 3783 captions not working after a period transition on live DASH streams ([#3801](https://github.com/Telefonica/stv-shaka-player/issues/3801)) ([6e0737e](https://github.com/Telefonica/stv-shaka-player/commit/6e0737ec25c14a1566cbb1dd8662ed6abf527670)), closes [#3783](https://github.com/Telefonica/stv-shaka-player/issues/3783)
* 4676 - Virgin Media set top box is incorrectly categorized as Apple/Safari ([#4678](https://github.com/Telefonica/stv-shaka-player/issues/4678)) ([dff6683](https://github.com/Telefonica/stv-shaka-player/commit/dff66831ed9ad5844108bd0333c0f0f706863fcb)), closes [#4676](https://github.com/Telefonica/stv-shaka-player/issues/4676)
* **abr:** use Network Info API in ABR getBandwidthEstimate ([#4263](https://github.com/Telefonica/stv-shaka-player/issues/4263)) ([391eb75](https://github.com/Telefonica/stv-shaka-player/commit/391eb754941c7bfccb04d2d8b448a13bee459b9a))
* Account for server-side ad cue points in external text tracks. ([#3617](https://github.com/Telefonica/stv-shaka-player/issues/3617)) ([a7f4db7](https://github.com/Telefonica/stv-shaka-player/commit/a7f4db7f185a77424db1283ec51af742cddf97cf))
* Add DASH MIME type mapping for src= playback ([#3805](https://github.com/Telefonica/stv-shaka-player/issues/3805)) ([3a9139e](https://github.com/Telefonica/stv-shaka-player/commit/3a9139e21274708ac56c9b1175892db54e25be73))
* Add explicit release() for FakeEventTarget ([#3950](https://github.com/Telefonica/stv-shaka-player/issues/3950)) ([1f9dd98](https://github.com/Telefonica/stv-shaka-player/commit/1f9dd9856eb21079ca789b2c8f7e461438cb13de))
* Add fallback to TextDecoder and TextEncoder ([#4324](https://github.com/Telefonica/stv-shaka-player/issues/4324)) ([2be2af9](https://github.com/Telefonica/stv-shaka-player/commit/2be2af9a112cc093c317356b0ec2d7a090fee1f7))
* Add missing module export in generated typescript defs ([#4163](https://github.com/Telefonica/stv-shaka-player/issues/4163)) ([164e601](https://github.com/Telefonica/stv-shaka-player/commit/164e60184ac9842451d91e123c35367892f82c46))
* Add mux.js to support.html ([#4923](https://github.com/Telefonica/stv-shaka-player/issues/4923)) ([166d7cd](https://github.com/Telefonica/stv-shaka-player/commit/166d7cddb24d6710410fa582b3328a409e3968af))
* add strictMissingProperties suppressions to unblock strict missing properties on union types. ([#4371](https://github.com/Telefonica/stv-shaka-player/issues/4371)) ([6225452](https://github.com/Telefonica/stv-shaka-player/commit/62254528e6087eac2e62b07e146a55fcd565494e))
* Add support to file type in mediaCapabilities implementation ([#3570](https://github.com/Telefonica/stv-shaka-player/issues/3570)) ([233c2bf](https://github.com/Telefonica/stv-shaka-player/commit/233c2bf4d8f1f73401d33dddb38e214ebda449e6)), closes [#3530](https://github.com/Telefonica/stv-shaka-player/issues/3530)
* Add support to file type in MediaCapabilities polyfill ([#3569](https://github.com/Telefonica/stv-shaka-player/issues/3569)) ([c07d1a3](https://github.com/Telefonica/stv-shaka-player/commit/c07d1a3e09a2856a6738357b1dff1b16eead8c0c)), closes [#3530](https://github.com/Telefonica/stv-shaka-player/issues/3530)
* Add Support to iOS 12 in MediaCapabilities polyfill ([#3573](https://github.com/Telefonica/stv-shaka-player/issues/3573)) ([ef506ac](https://github.com/Telefonica/stv-shaka-player/commit/ef506ac647cc6134a8b187fe82824eaa065f8bb7))
* **ads:** Add ResizeObserver to CS ad manager. ([#3652](https://github.com/Telefonica/stv-shaka-player/issues/3652)) ([2bdc326](https://github.com/Telefonica/stv-shaka-player/commit/2bdc326ed648df4855faf6a0add815356cdeab7e)), closes [#3638](https://github.com/Telefonica/stv-shaka-player/issues/3638)
* **ads:** Dispose of ad manager on player detach ([7b2a172](https://github.com/Telefonica/stv-shaka-player/commit/7b2a17276b495c7961fac1fdcbf944b613c542d1))
* **ads:** Fix ads starting muted behavior ([#5153](https://github.com/Telefonica/stv-shaka-player/issues/5153)) ([cbfaa70](https://github.com/Telefonica/stv-shaka-player/commit/cbfaa7074316e00ddd072b107dccd27ef926072d)), closes [#5125](https://github.com/Telefonica/stv-shaka-player/issues/5125)
* **Ads:** Fix CS volume ad ([#5016](https://github.com/Telefonica/stv-shaka-player/issues/5016)) ([b0bb23c](https://github.com/Telefonica/stv-shaka-player/commit/b0bb23c493d69d88de87b7789e867223fd2919ff))
* **ads:** Fix IMA crash when autoplay is rejected ([#4518](https://github.com/Telefonica/stv-shaka-player/issues/4518)) ([f77c9f3](https://github.com/Telefonica/stv-shaka-player/commit/f77c9f3bbdf2b7e00c44b4f997528bedc65b4f1a)), closes [#4179](https://github.com/Telefonica/stv-shaka-player/issues/4179)
* **ads:** Fix stopping of Server Side Ad manager ([#3611](https://github.com/Telefonica/stv-shaka-player/issues/3611)) ([a17c988](https://github.com/Telefonica/stv-shaka-player/commit/a17c98800415bec92ce3c8d2e352c4e363e0050c))
* **Ads:** Fix usage of EventManager on CS ([#5017](https://github.com/Telefonica/stv-shaka-player/issues/5017)) ([83f9153](https://github.com/Telefonica/stv-shaka-player/commit/83f915353ff5a180b86a80472a59fa89e0485d15))
* **Ads:** Fix usage of EventManager on CS ([#5084](https://github.com/Telefonica/stv-shaka-player/issues/5084)) ([d412b08](https://github.com/Telefonica/stv-shaka-player/commit/d412b08a83b865a358f46d851ea48825d4125950))
* **ads:** Fix VMAP ads stay muted on muted autoplay ([#4995](https://github.com/Telefonica/stv-shaka-player/issues/4995)) ([1d74f6e](https://github.com/Telefonica/stv-shaka-player/commit/1d74f6e75cf74c90fca720e7769784904a7c2841))
* allow build without text ([#4506](https://github.com/Telefonica/stv-shaka-player/issues/4506)) ([5014c1d](https://github.com/Telefonica/stv-shaka-player/commit/5014c1d50d2b612bf741f2736cf5f86522f4285b))
* Allow muxjs to be loaded after Shaka ([65a2cfd](https://github.com/Telefonica/stv-shaka-player/commit/65a2cfdda98b913c6f5b802a299cabd7477f3d49)), closes [#3407](https://github.com/Telefonica/stv-shaka-player/issues/3407)
* Allow overriding special handling of 404s ([#4635](https://github.com/Telefonica/stv-shaka-player/issues/4635)) ([d927cec](https://github.com/Telefonica/stv-shaka-player/commit/d927cec58921928da9a82be8234ac091e3f18322)), closes [#4548](https://github.com/Telefonica/stv-shaka-player/issues/4548)
* Allow the playback of TS without mux.js ([#5041](https://github.com/Telefonica/stv-shaka-player/issues/5041)) ([5784250](https://github.com/Telefonica/stv-shaka-player/commit/578425003e471828ae012025a9a5225f14a1a11a))
* allow the playback on platforms when low latency APIs are not supported ([#4485](https://github.com/Telefonica/stv-shaka-player/issues/4485)) ([c0fc0b4](https://github.com/Telefonica/stv-shaka-player/commit/c0fc0b4dcaa8d3d6db2782a987e74ebe9064ea53))
* Always polyfill MediaCapabilities for Apple browsers ([#3588](https://github.com/Telefonica/stv-shaka-player/issues/3588)) ([4dce1e0](https://github.com/Telefonica/stv-shaka-player/commit/4dce1e0ba5988e21dbf70490ae32819fe6433632))
* Avoid seeking on src when start time is 0 ([#3644](https://github.com/Telefonica/stv-shaka-player/issues/3644)) ([3f822d8](https://github.com/Telefonica/stv-shaka-player/commit/3f822d81221ff7c4d2ee2487b0eca5c4791d7059)), closes [#3518](https://github.com/Telefonica/stv-shaka-player/issues/3518)
* Avoid WebCrypto randomUUID when CMCD disabled ([5f2ccfd](https://github.com/Telefonica/stv-shaka-player/commit/5f2ccfdbcc76d3f16964b93727bcdf201f819142))
* Caption can not turn off at iOS Safari ([#4978](https://github.com/Telefonica/stv-shaka-player/issues/4978)) ([35f420e](https://github.com/Telefonica/stv-shaka-player/commit/35f420e8283dfc9d8dacbe1a317c4e69e5974cbb))
* **cast:** Make cast tests more forgiving. ([4fee1de](https://github.com/Telefonica/stv-shaka-player/commit/4fee1de967e782e532e0ddd791df0bcca14c557c))
* **cast:** Reduce size of Cast update messages ([#4644](https://github.com/Telefonica/stv-shaka-player/issues/4644)) ([5e0e942](https://github.com/Telefonica/stv-shaka-player/commit/5e0e9427caba7204e887d3187564b57bc14e6d3e))
* **cast:** Use cast platform APIs in MediaCapabilties polyfill ([#4727](https://github.com/Telefonica/stv-shaka-player/issues/4727)) ([dccb28d](https://github.com/Telefonica/stv-shaka-player/commit/dccb28da887ba6a51302a34a819d82c81387c850))
* **cea:** Fix BUFFER_READ_OUT_OF_BOUNDS error when CEA caption packets are empty ([#3609](https://github.com/Telefonica/stv-shaka-player/issues/3609)) ([97ba4df](https://github.com/Telefonica/stv-shaka-player/commit/97ba4dfd7bdcbf1b612af3679ee85273a1967715)), closes [#3608](https://github.com/Telefonica/stv-shaka-player/issues/3608)
* **cea:** Fix MAX_ROWS in CEA-708 window ([#4757](https://github.com/Telefonica/stv-shaka-player/issues/4757)) ([4909b0d](https://github.com/Telefonica/stv-shaka-player/commit/4909b0d2f8ad4f34d4a082cab859e53e360c0a43))
* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/Telefonica/stv-shaka-player/issues/3965)) ([7281e0f](https://github.com/Telefonica/stv-shaka-player/commit/7281e0f229bcc004b64ad3b899ad16131541036b))
* **chapters:** removed duplicate chapters by id ([#4810](https://github.com/Telefonica/stv-shaka-player/issues/4810)) ([8fc7883](https://github.com/Telefonica/stv-shaka-player/commit/8fc78835147dfee13749c2f09a1b27e0df5939b9))
* check for negative rows before moving ([#4510](https://github.com/Telefonica/stv-shaka-player/issues/4510)) ([359b63e](https://github.com/Telefonica/stv-shaka-player/commit/359b63e5c9665a1884daf95aa1cba7c8470ed7bb)), closes [#4508](https://github.com/Telefonica/stv-shaka-player/issues/4508)
* Clear buffer on seek if mediaState is updating ([#3795](https://github.com/Telefonica/stv-shaka-player/issues/3795)) ([72c9caa](https://github.com/Telefonica/stv-shaka-player/commit/72c9caaa3fe3e362cd852dc5125ed32435063185)), closes [#3299](https://github.com/Telefonica/stv-shaka-player/issues/3299)
* **cmcd:** Fix Symbol usage in CMCD on Xbox One ([#4073](https://github.com/Telefonica/stv-shaka-player/issues/4073)) ([c638b4f](https://github.com/Telefonica/stv-shaka-player/commit/c638b4fe882da5b0331ec0ad3ba3648fa63cb786)), closes [#4072](https://github.com/Telefonica/stv-shaka-player/issues/4072)
* Content reload starttime with HLS on iOS ([#4575](https://github.com/Telefonica/stv-shaka-player/issues/4575)) ([7fea5c2](https://github.com/Telefonica/stv-shaka-player/commit/7fea5c26ebf1705114953d6379d1de6e946832b2)), closes [#4244](https://github.com/Telefonica/stv-shaka-player/issues/4244)
* **css:** Fix missing % in calculation ([#4157](https://github.com/Telefonica/stv-shaka-player/issues/4157)) ([ee8404f](https://github.com/Telefonica/stv-shaka-player/commit/ee8404f24ba8855a72d3f412b4a4667eb988fb56))
* **css:** Fix missing calc() statements ([#4156](https://github.com/Telefonica/stv-shaka-player/issues/4156)) ([002d5eb](https://github.com/Telefonica/stv-shaka-player/commit/002d5ebd3d4771a082300d8987fbd019d40f9b68)), closes [#4155](https://github.com/Telefonica/stv-shaka-player/issues/4155)
* **dash:** Account for bandwidth before filtering text stream ([#3765](https://github.com/Telefonica/stv-shaka-player/issues/3765)) ([edd58fc](https://github.com/Telefonica/stv-shaka-player/commit/edd58fc9a5e0461d69fed635433fc7d0ea7e31ee)), closes [#3724](https://github.com/Telefonica/stv-shaka-player/issues/3724)
* **DASH:** Fix dynamic manifests from edgeware ([#4914](https://github.com/Telefonica/stv-shaka-player/issues/4914)) ([06bfd10](https://github.com/Telefonica/stv-shaka-player/commit/06bfd10af14773440495992f481073589fb908e6))
* **dash:** Fix performance regression ([#4064](https://github.com/Telefonica/stv-shaka-player/issues/4064)) ([bfac645](https://github.com/Telefonica/stv-shaka-player/commit/bfac645e589190d002f91a57b68941ab68584941))
* **dash:** Fix playback of Dolby Atmos ([#4173](https://github.com/Telefonica/stv-shaka-player/issues/4173)) ([ced8ab3](https://github.com/Telefonica/stv-shaka-player/commit/ced8ab31f57229fca9353769caeb7698c9f84d50)), closes [#4171](https://github.com/Telefonica/stv-shaka-player/issues/4171)
* **DASH:** Fix seeking on multiperiod content after variant change ([#5110](https://github.com/Telefonica/stv-shaka-player/issues/5110)) ([2ee97e2](https://github.com/Telefonica/stv-shaka-player/commit/2ee97e2873f87968c9403718f55e1b4f85e48668))
* **dash:** Notify segments on all updates. ([b8b72a9](https://github.com/Telefonica/stv-shaka-player/commit/b8b72a900d155ef085e72e62b5da697d67990c04)), closes [#3675](https://github.com/Telefonica/stv-shaka-player/issues/3675)
* **DASH:** Support "forced-subtitle" role ([#3807](https://github.com/Telefonica/stv-shaka-player/issues/3807)) ([f767260](https://github.com/Telefonica/stv-shaka-player/commit/f767260dcc96787b2ceda7548ddd95210e8130e2)), closes [#3767](https://github.com/Telefonica/stv-shaka-player/issues/3767)
* Dedupe DRM init data ([#3695](https://github.com/Telefonica/stv-shaka-player/issues/3695)) ([a09d8c9](https://github.com/Telefonica/stv-shaka-player/commit/a09d8c9869d5246af540d562f36546a294c2d9e9))
* **Demo:** Allow manifest type for DAI custom assets ([#4977](https://github.com/Telefonica/stv-shaka-player/issues/4977)) ([d341f93](https://github.com/Telefonica/stv-shaka-player/commit/d341f93c9091d371eba7d37faad2c76914d31a58))
* **demo:** allow switch between UITextDisplayer and SimpleTextDisplayer ([#4275](https://github.com/Telefonica/stv-shaka-player/issues/4275)) ([251dc19](https://github.com/Telefonica/stv-shaka-player/commit/251dc190fa72d3a9bb9aad668faa9284e7716ade))
* **demo:** Fix 'Tears of Steel (live, DASH, Server Side ads)' ([#3758](https://github.com/Telefonica/stv-shaka-player/issues/3758)) ([fb90679](https://github.com/Telefonica/stv-shaka-player/commit/fb906798199d10f6deb5b0406d6248d57a781c83))
* **demo:** Fix default demo index versions ([#4116](https://github.com/Telefonica/stv-shaka-player/issues/4116)) ([19c1e3c](https://github.com/Telefonica/stv-shaka-player/commit/19c1e3c22997f9b5c6756642aa524ab23875dae0))
* Discard only invalid overlapping periods ([1c64e20](https://github.com/Telefonica/stv-shaka-player/commit/1c64e209097714e88956f4053d037dc7060813b9))
* Discard only invalid periods ([94d696f](https://github.com/Telefonica/stv-shaka-player/commit/94d696fd042c39450712f87c02735e8faa49138a))
* Display captions with forward slashes ([#3556](https://github.com/Telefonica/stv-shaka-player/issues/3556)) ([65e9d8f](https://github.com/Telefonica/stv-shaka-player/commit/65e9d8ff85815d9f3226a8df091053d747be7294))
* Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice ([#4194](https://github.com/Telefonica/stv-shaka-player/issues/4194)) ([565e9e0](https://github.com/Telefonica/stv-shaka-player/commit/565e9e0191cab88094aaa15cd3ae90cef00ffdc3)), closes [#4190](https://github.com/Telefonica/stv-shaka-player/issues/4190)
* Don't destroy ad manager on detach ([#3665](https://github.com/Telefonica/stv-shaka-player/issues/3665)) ([684dd85](https://github.com/Telefonica/stv-shaka-player/commit/684dd852164ce94bfdf85d0d8ab2cc1390cdbeba))
* Don't force update captions by default ([#3425](https://github.com/Telefonica/stv-shaka-player/issues/3425)) ([a0d3e52](https://github.com/Telefonica/stv-shaka-player/commit/a0d3e528de04f1b0fe5a33ffcb7844e1414f1b5e))
* Don't forget active track after new period is added to live stream. ([22307d0](https://github.com/Telefonica/stv-shaka-player/commit/22307d0ac11c005a7686616365100df01a5ec407)), closes [#3510](https://github.com/Telefonica/stv-shaka-player/issues/3510)
* Don't gap jump at start of video if autoplay is not set ([#3645](https://github.com/Telefonica/stv-shaka-player/issues/3645)) ([9e15323](https://github.com/Telefonica/stv-shaka-player/commit/9e153231e7fb021185bfeb6ce123a3992625a9f2)), closes [#3451](https://github.com/Telefonica/stv-shaka-player/issues/3451)
* Don't send drmsessionupdate after unload ([#4248](https://github.com/Telefonica/stv-shaka-player/issues/4248)) ([c20c590](https://github.com/Telefonica/stv-shaka-player/commit/c20c5909abaa24ff41d842cf1213be36f1fd8753))
* Enforce string-format of event data keys. ([dd3748d](https://github.com/Telefonica/stv-shaka-player/commit/dd3748d59970de46255cd6d8b4204ee501600655)), closes [#3710](https://github.com/Telefonica/stv-shaka-player/issues/3710)
* Enhanced fix for geo-redundancy ([5f77d2b](https://github.com/Telefonica/stv-shaka-player/commit/5f77d2b8f19787ccdf8639ad0a8991824788247f))
* exception if on early adError ([#4362](https://github.com/Telefonica/stv-shaka-player/issues/4362)) ([c6339d2](https://github.com/Telefonica/stv-shaka-player/commit/c6339d2e38a22ec7646f167622c2470023af10c6)), closes [#4004](https://github.com/Telefonica/stv-shaka-player/issues/4004)
* Failed to set 'currentTime' property on 'HTMLMediaElement' on a Hisense TV ([#4962](https://github.com/Telefonica/stv-shaka-player/issues/4962)) ([bda4e50](https://github.com/Telefonica/stv-shaka-player/commit/bda4e50f72d44865e76716894b48f34db225feab))
* Failover in geo-redundant streams ([930c158](https://github.com/Telefonica/stv-shaka-player/commit/930c158629d352b1e5186b5ad0eeb370e95c7aaa))
* FairPlay playback ([#3531](https://github.com/Telefonica/stv-shaka-player/issues/3531)) ([3995000](https://github.com/Telefonica/stv-shaka-player/commit/3995000abcbb29e3b1228397868e13e6c34e34a7))
* Fallback to isTypeSupported when cast namespace is undefined ([#5012](https://github.com/Telefonica/stv-shaka-player/issues/5012)) ([141f0e3](https://github.com/Telefonica/stv-shaka-player/commit/141f0e384ebe9d31b5df899ef2c4c5d4217a31c9))
* Filter unsupported H.264 streams in Xbox ([#3411](https://github.com/Telefonica/stv-shaka-player/issues/3411)) ([a096bc1](https://github.com/Telefonica/stv-shaka-player/commit/a096bc1452d48c8cbcc250b960d7bd8f79f1a83a))
* Filter unsupported H.264 streams in Xbox ([#4493](https://github.com/Telefonica/stv-shaka-player/issues/4493)) ([21ee94f](https://github.com/Telefonica/stv-shaka-player/commit/21ee94fce4daa624561989600f47170c468bf962))
* Fix ARIA label on replay button ([#3513](https://github.com/Telefonica/stv-shaka-player/issues/3513)) ([2dedd9f](https://github.com/Telefonica/stv-shaka-player/commit/2dedd9f3f5c10b4265c2264b4f6ea6573aeabc4f)), closes [#3512](https://github.com/Telefonica/stv-shaka-player/issues/3512)
* Fix audio language switching while using AirPlay ([#3472](https://github.com/Telefonica/stv-shaka-player/issues/3472)) ([f9c289e](https://github.com/Telefonica/stv-shaka-player/commit/f9c289efd1086417d33f515ef481113fe36ce662)), closes [#3125](https://github.com/Telefonica/stv-shaka-player/issues/3125)
* Fix audio mime type in multiplexed HLS stream ([#4241](https://github.com/Telefonica/stv-shaka-player/issues/4241)) ([d10c5bc](https://github.com/Telefonica/stv-shaka-player/commit/d10c5bcdc76b84137c4233a280d49117bba8c463))
* Fix bitmap-based cue size ([#4453](https://github.com/Telefonica/stv-shaka-player/issues/4453)) ([ad52a97](https://github.com/Telefonica/stv-shaka-player/commit/ad52a97c61be96c4022ff42939bdb766a358db69))
* Fix bufferBehind setting broken by image segments ([#4718](https://github.com/Telefonica/stv-shaka-player/issues/4718)) ([f9121b5](https://github.com/Telefonica/stv-shaka-player/commit/f9121b520e9178e195f342070c863741d1962c3e)), closes [#4717](https://github.com/Telefonica/stv-shaka-player/issues/4717)
* Fix buffering due to re-fetch (SegmentIterator) ([#3419](https://github.com/Telefonica/stv-shaka-player/issues/3419)) ([9e6da5a](https://github.com/Telefonica/stv-shaka-player/commit/9e6da5a6e96234fa99b96e3931774781d11e2ac8))
* Fix buffering due to re-fetch (SegmentTemplate+duration) ([#3419](https://github.com/Telefonica/stv-shaka-player/issues/3419)) ([9dc4664](https://github.com/Telefonica/stv-shaka-player/commit/9dc466475a857041aa485ac7a804aae9de9c63c1))
* Fix buffering due to re-fetch (SegmentTimeline) ([3222370](https://github.com/Telefonica/stv-shaka-player/commit/3222370674d868d121ffec2e0a1fc4e978c2e005))
* Fix CC parsing of EPB and v1 TKHD boxes ([#3610](https://github.com/Telefonica/stv-shaka-player/issues/3610)) ([6a775e2](https://github.com/Telefonica/stv-shaka-player/commit/6a775e29a4c96588822288188d8e34ea4c992713)), closes [#3502](https://github.com/Telefonica/stv-shaka-player/issues/3502)
* Fix choosing tracks from streaming event ([#3459](https://github.com/Telefonica/stv-shaka-player/issues/3459)) ([760161f](https://github.com/Telefonica/stv-shaka-player/commit/760161f6ddf809da82c762956080fab7eb73f489)), closes [#3448](https://github.com/Telefonica/stv-shaka-player/issues/3448)
* Fix clearing buffer when requested for already-selected variant ([#3477](https://github.com/Telefonica/stv-shaka-player/issues/3477)) ([e85009d](https://github.com/Telefonica/stv-shaka-player/commit/e85009de325c9da803df90ed37f9ef9c70788fc8)), closes [#3450](https://github.com/Telefonica/stv-shaka-player/issues/3450)
* Fix CMCD property mangling ([#3842](https://github.com/Telefonica/stv-shaka-player/issues/3842)) ([25ef6c9](https://github.com/Telefonica/stv-shaka-player/commit/25ef6c9f77e5122173417f0089e023e063a265bc)), closes [#3839](https://github.com/Telefonica/stv-shaka-player/issues/3839)
* Fix CMCD top bitrate reporting ([#3852](https://github.com/Telefonica/stv-shaka-player/issues/3852)) ([299a1db](https://github.com/Telefonica/stv-shaka-player/commit/299a1db21d6cb8f762b5de0bc89bcfc3ed98f89d)), closes [#3851](https://github.com/Telefonica/stv-shaka-player/issues/3851)
* Fix compilation error with strict constness ([6757d23](https://github.com/Telefonica/stv-shaka-player/commit/6757d238d0a0cd29b3933b31bf43c0f6adbf17ac))
* Fix compiler error introduced in [#3864](https://github.com/Telefonica/stv-shaka-player/issues/3864) ([#3906](https://github.com/Telefonica/stv-shaka-player/issues/3906)) ([f5bb75e](https://github.com/Telefonica/stv-shaka-player/commit/f5bb75e8447b043494ca35d27999a104b8810e0d))
* Fix DASH transition from dynamic to static ([#3497](https://github.com/Telefonica/stv-shaka-player/issues/3497)) ([b3166db](https://github.com/Telefonica/stv-shaka-player/commit/b3166db4bc7cac968a03796bc9c2d7e598fb88c7)), closes [#3376](https://github.com/Telefonica/stv-shaka-player/issues/3376)
* Fix detection of ac4, dts, and dolby h265 ([#4657](https://github.com/Telefonica/stv-shaka-player/issues/4657)) ([44e4fd7](https://github.com/Telefonica/stv-shaka-player/commit/44e4fd74fd59c3b11ad265bd1eea26678857a26f))
* Fix download of some HLS assets ([#3934](https://github.com/Telefonica/stv-shaka-player/issues/3934)) ([449065c](https://github.com/Telefonica/stv-shaka-player/commit/449065c84c5b6e4bbceba03c2345a3330ac2d1a7))
* Fix DRM workaround for Tizen and Xbox with ac-3 boxes ([#3631](https://github.com/Telefonica/stv-shaka-player/issues/3631)) ([56a0042](https://github.com/Telefonica/stv-shaka-player/commit/56a004209ceb259794840bcba6a535ecd1c04c69)), closes [#3589](https://github.com/Telefonica/stv-shaka-player/issues/3589)
* Fix DRM workaround for Tizen and Xbox with avc3 boxes ([#3625](https://github.com/Telefonica/stv-shaka-player/issues/3625)) ([31b1ca9](https://github.com/Telefonica/stv-shaka-player/commit/31b1ca9f8104d3920f75b918a4f2fc6889f1e3bf))
* Fix DRM workaround for Tizen and Xbox with hvc1/hev1 boxes ([#4743](https://github.com/Telefonica/stv-shaka-player/issues/4743)) ([a84fe2a](https://github.com/Telefonica/stv-shaka-player/commit/a84fe2ae1428055c8f1b565056c563b7c2e38aa7)), closes [#4742](https://github.com/Telefonica/stv-shaka-player/issues/4742)
* Fix duplicate CMCD parameters in HLS live content ([#3875](https://github.com/Telefonica/stv-shaka-player/issues/3875)) ([5a201db](https://github.com/Telefonica/stv-shaka-player/commit/5a201db1c498d970dfebb6f2bf3c90a003095025)), closes [#3862](https://github.com/Telefonica/stv-shaka-player/issues/3862)
* Fix duplicate updates in StreamingEngine ([#4840](https://github.com/Telefonica/stv-shaka-player/issues/4840)) ([ca72438](https://github.com/Telefonica/stv-shaka-player/commit/ca724387488ca6f8943b3caa9c63fe241d517a77)), closes [#4831](https://github.com/Telefonica/stv-shaka-player/issues/4831)
* Fix EC-3 box support in DRM workaround on smart TVs ([#3427](https://github.com/Telefonica/stv-shaka-player/issues/3427)) ([87786f4](https://github.com/Telefonica/stv-shaka-player/commit/87786f4df6fd172dcc6cb996b947104f646d9af2))
* Fix encryption detection to work around broken platforms ([#4169](https://github.com/Telefonica/stv-shaka-player/issues/4169)) ([87893e8](https://github.com/Telefonica/stv-shaka-player/commit/87893e84ec1dda20109ecab1fbc90db8736b4ba9))
* Fix enforcement of cue alignment styles ([2250324](https://github.com/Telefonica/stv-shaka-player/commit/2250324a4acd039e3d86ce59178d476cadaa3aef)), closes [#3379](https://github.com/Telefonica/stv-shaka-player/issues/3379)
* Fix EOS set-top box being identified as Apple. ([#4310](https://github.com/Telefonica/stv-shaka-player/issues/4310)) ([621cda5](https://github.com/Telefonica/stv-shaka-player/commit/621cda57b1a88f85dd69aa70f1f05d01f8582a15))
* Fix event listener leaks in Player ([#4229](https://github.com/Telefonica/stv-shaka-player/issues/4229)) ([1fe8df2](https://github.com/Telefonica/stv-shaka-player/commit/1fe8df20c4945ba255b1737540535e587768055f))
* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/Telefonica/stv-shaka-player/issues/3887)) ([ca1ca33](https://github.com/Telefonica/stv-shaka-player/commit/ca1ca33c3caf1787c52713ccb151ea59a9285649)), closes [#3886](https://github.com/Telefonica/stv-shaka-player/issues/3886)
* Fix exception with streaming.startAtSegmentBoundary ([#4216](https://github.com/Telefonica/stv-shaka-player/issues/4216)) ([1b6ca04](https://github.com/Telefonica/stv-shaka-player/commit/1b6ca044672efbfacdbd2444e382f23be77150df)), closes [#4188](https://github.com/Telefonica/stv-shaka-player/issues/4188)
* Fix exceptions when quickly shutting down src= on Safari ([#4088](https://github.com/Telefonica/stv-shaka-player/issues/4088)) ([2e10748](https://github.com/Telefonica/stv-shaka-player/commit/2e107484e3975f17b9d9a99f6074b804aab05f04)), closes [#4087](https://github.com/Telefonica/stv-shaka-player/issues/4087)
* Fix failure with multiple thumbnails per period ([052e794](https://github.com/Telefonica/stv-shaka-player/commit/052e7943b191973776aeab899ac97a21b09dc819)), closes [#3383](https://github.com/Telefonica/stv-shaka-player/issues/3383)
* Fix fetch plugin with old implementations ([#5091](https://github.com/Telefonica/stv-shaka-player/issues/5091)) ([8ddc98e](https://github.com/Telefonica/stv-shaka-player/commit/8ddc98e3d0db4d6582c8814423ef0a38ce829d86))
* Fix filtering of duplicate image streams ([42674be](https://github.com/Telefonica/stv-shaka-player/commit/42674bee038eb1b0881dd7f0303944a043186103)), closes [#3383](https://github.com/Telefonica/stv-shaka-player/issues/3383)
* Fix flattenedCues in WebVttGenerator ([#4867](https://github.com/Telefonica/stv-shaka-player/issues/4867)) ([45af59e](https://github.com/Telefonica/stv-shaka-player/commit/45af59e90fe8df66ec48bb32d8db4973181a48bf))
* Fix getVideoPlaybackQuality in WebOS 3 ([#4316](https://github.com/Telefonica/stv-shaka-player/issues/4316)) ([d0c4c04](https://github.com/Telefonica/stv-shaka-player/commit/d0c4c04115269d638319c0ab310eaa83e176263e))
* Fix handling of CC when switching between codecs ([#5160](https://github.com/Telefonica/stv-shaka-player/issues/5160)) ([3ea3fb4](https://github.com/Telefonica/stv-shaka-player/commit/3ea3fb4abc8cfc9d52447dab67aa5a8dd3152dc0))
* Fix hang when seeking to the last segment ([#4537](https://github.com/Telefonica/stv-shaka-player/issues/4537)) ([2868e12](https://github.com/Telefonica/stv-shaka-player/commit/2868e122eb5bc2db57ca96c429ad8178f7f5e3f4))
* Fix HEAD request exception ([#5194](https://github.com/Telefonica/stv-shaka-player/issues/5194)) ([29d6b4c](https://github.com/Telefonica/stv-shaka-player/commit/29d6b4ce7fd9383ab213039e59bfee86e495c00b)), closes [#5164](https://github.com/Telefonica/stv-shaka-player/issues/5164)
* Fix hung playback on rapid seek ([#3479](https://github.com/Telefonica/stv-shaka-player/issues/3479)) ([f7facc0](https://github.com/Telefonica/stv-shaka-player/commit/f7facc043ec983de10e9f90e56ccb33ff5176903)), closes [#3384](https://github.com/Telefonica/stv-shaka-player/issues/3384)
* Fix key ID byteswapping for PlayReady on PS4 ([#4377](https://github.com/Telefonica/stv-shaka-player/issues/4377)) ([fa8f5fc](https://github.com/Telefonica/stv-shaka-player/commit/fa8f5fc57949c44470aa908a4e8866cd4e05141a))
* Fix legacy codec support by rewriting codec metadata ([#4858](https://github.com/Telefonica/stv-shaka-player/issues/4858)) ([bec765c](https://github.com/Telefonica/stv-shaka-player/commit/bec765c467ceffa9c60bc3be657f92ab298a30c1))
* Fix mediaCapabilities polyfill on Chromecast ([de77787](https://github.com/Telefonica/stv-shaka-player/commit/de777872193d2ebf35559471ec72e9a87b0b8e6e))
* Fix MediaCapabilities polyfill on Hisense ([#4927](https://github.com/Telefonica/stv-shaka-player/issues/4927)) ([5317329](https://github.com/Telefonica/stv-shaka-player/commit/531732923d5118ecbd555531c46862b238b16b50))
* Fix MediaCapabilities polyfill on Playstation 4 ([#4320](https://github.com/Telefonica/stv-shaka-player/issues/4320)) ([68fc5c4](https://github.com/Telefonica/stv-shaka-player/commit/68fc5c4e3571681569d99cb4887b7bddeb539472))
* Fix MediaCapabilities polyfill on Safari ([cc71ecd](https://github.com/Telefonica/stv-shaka-player/commit/cc71ecdf980807b52fa48a673825cd9a012707ce)), closes [#3696](https://github.com/Telefonica/stv-shaka-player/issues/3696) [#3530](https://github.com/Telefonica/stv-shaka-player/issues/3530)
* Fix MediaCapabilities polyfill on Tizen and WebOS ([#4396](https://github.com/Telefonica/stv-shaka-player/issues/4396)) ([89fef08](https://github.com/Telefonica/stv-shaka-player/commit/89fef085634830c40353df06ca5f8ca3e398ef6e)), closes [#4383](https://github.com/Telefonica/stv-shaka-player/issues/4383) [#4357](https://github.com/Telefonica/stv-shaka-player/issues/4357)
* Fix memory leak in DASH live streams with inband EventStream ([#3957](https://github.com/Telefonica/stv-shaka-player/issues/3957)) ([6eb81da](https://github.com/Telefonica/stv-shaka-player/commit/6eb81dae36a9cced95bd99f5356b69205c264ee0))
* Fix misdetection of HEVC support on MS Edge ([#3897](https://github.com/Telefonica/stv-shaka-player/issues/3897)) ([106739e](https://github.com/Telefonica/stv-shaka-player/commit/106739e71e892946b260c25c035e839fbfb6b8a2)), closes [#3860](https://github.com/Telefonica/stv-shaka-player/issues/3860)
* Fix missing originalUri in response filters ([#5114](https://github.com/Telefonica/stv-shaka-player/issues/5114)) ([626ef1f](https://github.com/Telefonica/stv-shaka-player/commit/626ef1f9c117cc98795c5974b3522f6f35fe3867))
* Fix missing throughput in CMCD for HLS live ([#3874](https://github.com/Telefonica/stv-shaka-player/issues/3874)) ([6e384e3](https://github.com/Telefonica/stv-shaka-player/commit/6e384e3808be2f7ca93e497b071db86f2b967726)), closes [#3873](https://github.com/Telefonica/stv-shaka-player/issues/3873)
* Fix multi-period DASH with descriptive audio ([#4629](https://github.com/Telefonica/stv-shaka-player/issues/4629)) ([3a3cb24](https://github.com/Telefonica/stv-shaka-player/commit/3a3cb24e4e519af24542d3edabd3fab130da08a2)), closes [#4500](https://github.com/Telefonica/stv-shaka-player/issues/4500)
* Fix multiperiod without consistent thumbnails ([ed1563f](https://github.com/Telefonica/stv-shaka-player/commit/ed1563f70df889fb1c57f45cd2ec01d579e565cf)), closes [#3383](https://github.com/Telefonica/stv-shaka-player/issues/3383)
* Fix PERIOD_FLATTENING_FAILED error when periods have different base sample types ([#4206](https://github.com/Telefonica/stv-shaka-player/issues/4206)) ([04ff0fc](https://github.com/Telefonica/stv-shaka-player/commit/04ff0fcc8b1e1606ecb6dccda96cc7da368d10e6)), closes [#4202](https://github.com/Telefonica/stv-shaka-player/issues/4202)
* Fix playback failure due to rounding errors ([136a417](https://github.com/Telefonica/stv-shaka-player/commit/136a417365a71384828094046c1ef24be30ffa2a)), closes [#3717](https://github.com/Telefonica/stv-shaka-player/issues/3717)
* Fix playRangeEnd for certain content ([#4068](https://github.com/Telefonica/stv-shaka-player/issues/4068)) ([11f998d](https://github.com/Telefonica/stv-shaka-player/commit/11f998d97254a1b9ca27b2a461bf850db2c76eaa)), closes [#4026](https://github.com/Telefonica/stv-shaka-player/issues/4026)
* Fix race that allows multiple text streams to be loaded ([#5129](https://github.com/Telefonica/stv-shaka-player/issues/5129)) ([1942d1d](https://github.com/Telefonica/stv-shaka-player/commit/1942d1d1ca491c47d6f39cbd60e647a19c84c044))
* Fix rare exception after StreamingEngine teardown ([#4830](https://github.com/Telefonica/stv-shaka-player/issues/4830)) ([6e170c6](https://github.com/Telefonica/stv-shaka-player/commit/6e170c61768aa3946f3b2ab630b4f0cf214c825d)), closes [#4813](https://github.com/Telefonica/stv-shaka-player/issues/4813)
* Fix segment index assertions with DAI ([ccc9d1e](https://github.com/Telefonica/stv-shaka-player/commit/ccc9d1ee790a24f5d65d728ab326fcc615edbf66))
* Fix selectVariantsByLabel using src= ([#5154](https://github.com/Telefonica/stv-shaka-player/issues/5154)) ([68c6e7a](https://github.com/Telefonica/stv-shaka-player/commit/68c6e7a299d8feadd6f981d172f81b0b35fa12a9))
* Fix subtitles not added to DOM region ([#4733](https://github.com/Telefonica/stv-shaka-player/issues/4733)) ([a42b803](https://github.com/Telefonica/stv-shaka-player/commit/a42b803b9928648c26b54971809e0939495ae5d7)), closes [#4680](https://github.com/Telefonica/stv-shaka-player/issues/4680)
* Fix support for TTAF1 namespace (old version of TTML) ([#3864](https://github.com/Telefonica/stv-shaka-player/issues/3864)) ([5847acc](https://github.com/Telefonica/stv-shaka-player/commit/5847acc7ea444d96dbce642869cbcc6dac9448ad)), closes [#3009](https://github.com/Telefonica/stv-shaka-player/issues/3009)
* Fix TextDecoder fallback and browser support check ([#4403](https://github.com/Telefonica/stv-shaka-player/issues/4403)) ([f4c2d32](https://github.com/Telefonica/stv-shaka-player/commit/f4c2d322dffa03a52c4108cd7670df36e5e60d75))
* Fix thumbnail duration, expose start time and duration ([d4a1255](https://github.com/Telefonica/stv-shaka-player/commit/d4a1255235e174d8a0ca6ca3a8edb5b10db59405)), closes [#3517](https://github.com/Telefonica/stv-shaka-player/issues/3517)
* Fix thumbnail position calculation ([#3516](https://github.com/Telefonica/stv-shaka-player/issues/3516)) ([097c9a1](https://github.com/Telefonica/stv-shaka-player/commit/097c9a1cc4d17be4e583ceee185eab0ab7b02c97)), closes [#3511](https://github.com/Telefonica/stv-shaka-player/issues/3511)
* Fix UI captions icon state ([#4384](https://github.com/Telefonica/stv-shaka-player/issues/4384)) ([e6465e4](https://github.com/Telefonica/stv-shaka-player/commit/e6465e4f1f146fdb0ff7529ee8a369fda914a5d3)), closes [#4358](https://github.com/Telefonica/stv-shaka-player/issues/4358)
* Fix usage of Shaka without polyfills ([4fd4dcb](https://github.com/Telefonica/stv-shaka-player/commit/4fd4dcb428a9f22bfdf8659632bd75312e76650b))
* Fix video/mp2t mimetype conversion. ([#5039](https://github.com/Telefonica/stv-shaka-player/issues/5039)) ([4fd078e](https://github.com/Telefonica/stv-shaka-player/commit/4fd078e23c4148a46a2ddf34165e14c0f8056e97))
* Fix vp09 playback on webOS ([#3566](https://github.com/Telefonica/stv-shaka-player/issues/3566)) ([13aafcf](https://github.com/Telefonica/stv-shaka-player/commit/13aafcfd7e5016244b78bb3738d471ffb48193d4))
* Fix VP9 codec checks on Mac Firefox ([#4391](https://github.com/Telefonica/stv-shaka-player/issues/4391)) ([86cae65](https://github.com/Telefonica/stv-shaka-player/commit/86cae652955ca333e24dd13d52c0020935da2adc))
* Fix WebVTT parser failure on REGION blocks ([#4915](https://github.com/Telefonica/stv-shaka-player/issues/4915)) ([c534602](https://github.com/Telefonica/stv-shaka-player/commit/c5346026ad006eeb01f7619c5fa54f2fd88d0f8b))
* Fixes bug in trick mode stream concatenation ([f091084](https://github.com/Telefonica/stv-shaka-player/commit/f0910842116157d71b10cd737d5f9f99354d5670)), closes [#3423](https://github.com/Telefonica/stv-shaka-player/issues/3423)
* Fixes updating of nested cues ([b02ff27](https://github.com/Telefonica/stv-shaka-player/commit/b02ff27017db362bb6562fdd2ac14cdf27005cb2)), closes [#3524](https://github.com/Telefonica/stv-shaka-player/issues/3524) [#3643](https://github.com/Telefonica/stv-shaka-player/issues/3643)
* focus on first element when back to the settings menu ([#4653](https://github.com/Telefonica/stv-shaka-player/issues/4653)) ([9ab242e](https://github.com/Telefonica/stv-shaka-player/commit/9ab242e39eea87e39c7864ff8aadf5d68ab1236d)), closes [#4652](https://github.com/Telefonica/stv-shaka-player/issues/4652)
* Force update captions when element resizes ([#3426](https://github.com/Telefonica/stv-shaka-player/issues/3426)) ([a09fa31](https://github.com/Telefonica/stv-shaka-player/commit/a09fa311888db5735b2f62b2d112a07058e73ffb))
* Force update captions with fullscreen ([#3414](https://github.com/Telefonica/stv-shaka-player/issues/3414)) ([b426fe8](https://github.com/Telefonica/stv-shaka-player/commit/b426fe87f8f00c54988a23bafe05c0e27898d776))
* Force using mcap polyfill on EOS browsers ([#4630](https://github.com/Telefonica/stv-shaka-player/issues/4630)) ([659a8cf](https://github.com/Telefonica/stv-shaka-player/commit/659a8cf89b42f0470001c30728378d9f762c767d))
* Handle empty media segments for Mp4VttParser ([#5131](https://github.com/Telefonica/stv-shaka-player/issues/5131)) ([29b7a30](https://github.com/Telefonica/stv-shaka-player/commit/29b7a30b13cc5fea1d9aa79b15eb0ac42cc4e85c)), closes [#4429](https://github.com/Telefonica/stv-shaka-player/issues/4429)
* **HLS:** Add `.tsa` and .`tsv` file extensions as valid MPEG2-TS. ([#5034](https://github.com/Telefonica/stv-shaka-player/issues/5034)) ([a080996](https://github.com/Telefonica/stv-shaka-player/commit/a080996cbc4185a1bec8c08e5fc6a23a75f3e31e))
* **HLS:** Adding support for DTS Express in HLS fMP4 ([#5112](https://github.com/Telefonica/stv-shaka-player/issues/5112)) ([#5117](https://github.com/Telefonica/stv-shaka-player/issues/5117)) ([07e1737](https://github.com/Telefonica/stv-shaka-player/commit/07e173720d1aa098ae3f3d2ea3731205feb39e6f))
* **hls:** Fix av1 codec selection in HLS. ([#4203](https://github.com/Telefonica/stv-shaka-player/issues/4203)) ([e493a56](https://github.com/Telefonica/stv-shaka-player/commit/e493a56b9e51f85afb06d31b75ad6b91f59acd80))
* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4663](https://github.com/Telefonica/stv-shaka-player/issues/4663)) ([6804c6a](https://github.com/Telefonica/stv-shaka-player/commit/6804c6aad240a454e17a3dae1a26f865f79c391d))
* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4928](https://github.com/Telefonica/stv-shaka-player/issues/4928)) ([ae0f615](https://github.com/Telefonica/stv-shaka-player/commit/ae0f615d7df35873135fbc8953e11383395dc25e)), closes [#4929](https://github.com/Telefonica/stv-shaka-player/issues/4929)
* **HLS:** Fix duplicate hinted segments ([#4258](https://github.com/Telefonica/stv-shaka-player/issues/4258)) ([0e2a7e4](https://github.com/Telefonica/stv-shaka-player/commit/0e2a7e46ea67db1a6f86fffd734b77f49d9bf96c)), closes [#4223](https://github.com/Telefonica/stv-shaka-player/issues/4223)
* **HLS:** Fix lowLatencyPresentationDelay when using autoLowLatencyMode ([#4712](https://github.com/Telefonica/stv-shaka-player/issues/4712)) ([a9bb695](https://github.com/Telefonica/stv-shaka-player/commit/a9bb6955351520c5f079afa752b990f942773d7f))
* **HLS:** Fix support legacy AVC1 codec used in HLS ([#4716](https://github.com/Telefonica/stv-shaka-player/issues/4716)) ([8dcab18](https://github.com/Telefonica/stv-shaka-player/commit/8dcab182d8c6ab545ff286f08eefaefb93a36662))
* **hls:** Fix X-PRELOAD-HINT failure with LL mode off ([#4212](https://github.com/Telefonica/stv-shaka-player/issues/4212)) ([5167717](https://github.com/Telefonica/stv-shaka-player/commit/5167717177edc256d06afef469b0a206ed0b88e4)), closes [#4185](https://github.com/Telefonica/stv-shaka-player/issues/4185)
* **hls:** Fixes parsing of HLS 'DEFAULT' attribute ([#3771](https://github.com/Telefonica/stv-shaka-player/issues/3771)) ([3e7a5b5](https://github.com/Telefonica/stv-shaka-player/commit/3e7a5b5f872011b575e14f8a68d21af0a88e822b)), closes [#3769](https://github.com/Telefonica/stv-shaka-player/issues/3769)
* **HLS:** Infer missing codecs from config ([#4656](https://github.com/Telefonica/stv-shaka-player/issues/4656)) ([b98ae71](https://github.com/Telefonica/stv-shaka-player/commit/b98ae71a46da96a9e30c595a3fed0ddb9718d335))
* **hls:** Made HLS notify segments after fit ([1e598ba](https://github.com/Telefonica/stv-shaka-player/commit/1e598bab652dbca32aae49f43f5354d5788e1698)), closes [#3733](https://github.com/Telefonica/stv-shaka-player/issues/3733)
* **hls:** Made HLS notify segments after fit ([9220c1f](https://github.com/Telefonica/stv-shaka-player/commit/9220c1f87d3ab1b23d0008fc8b0164d2ad26f35f)), closes [#3733](https://github.com/Telefonica/stv-shaka-player/issues/3733)
* **HLS:** Prioritize AVERAGE-BANDWIDTH over BANDWIDTH ([#3428](https://github.com/Telefonica/stv-shaka-player/issues/3428)) ([76480f9](https://github.com/Telefonica/stv-shaka-player/commit/76480f9746eced28718c5d78ee3c938b640282e6))
* **HLS:** Single alternative video renditions not working ([#4785](https://github.com/Telefonica/stv-shaka-player/issues/4785)) ([4d2371f](https://github.com/Telefonica/stv-shaka-player/commit/4d2371f7caf95a0145de58a9331d2dc9fcf7d2fa))
* **HLS:** skip whitespace in attributes ([#3884](https://github.com/Telefonica/stv-shaka-player/issues/3884)) ([6305555](https://github.com/Telefonica/stv-shaka-player/commit/6305555d40ca0e8be1604fc1f07dd34112b62530))
* **image:** Fix HLS image track issues ([c6eff35](https://github.com/Telefonica/stv-shaka-player/commit/c6eff35f125568fef488ce1730ddd44bb2bee6fe)), closes [#3840](https://github.com/Telefonica/stv-shaka-player/issues/3840)
* **image:** Fix thumbnails issues ([#3858](https://github.com/Telefonica/stv-shaka-player/issues/3858)) ([4c9de73](https://github.com/Telefonica/stv-shaka-player/commit/4c9de73ca9ecc07b35ef9973d7c47dae626f77c3))
* Increase IndexedDB timeout ([#4984](https://github.com/Telefonica/stv-shaka-player/issues/4984)) ([a7bc000](https://github.com/Telefonica/stv-shaka-player/commit/a7bc00056cff3d400f62018948e48acf6d0a9804))
* Limit key ids to 32 characters ([#4614](https://github.com/Telefonica/stv-shaka-player/issues/4614)) ([8e6f20e](https://github.com/Telefonica/stv-shaka-player/commit/8e6f20e26b70c8a40b30a6693f2f6c8d976c1fba))
* **LL-DASH:** Append segment chunk strictly in order ([#3405](https://github.com/Telefonica/stv-shaka-player/issues/3405)) ([f09616f](https://github.com/Telefonica/stv-shaka-player/commit/f09616fb41941d58d42d3037807f1c5c785accbc)), closes [#3404](https://github.com/Telefonica/stv-shaka-player/issues/3404)
* **LL-DASH:** Fix index out of bound issue when parsing mp4 segment ([#3403](https://github.com/Telefonica/stv-shaka-player/issues/3403)) ([e02d28c](https://github.com/Telefonica/stv-shaka-player/commit/e02d28c7656e2fc7183c9a1b4a004c721306c97e)), closes [#3402](https://github.com/Telefonica/stv-shaka-player/issues/3402)
* Load image streams for offline multiperiod ([4f4f6b1](https://github.com/Telefonica/stv-shaka-player/commit/4f4f6b1cf3025983dde05866a02238e180d71465)), closes [#3383](https://github.com/Telefonica/stv-shaka-player/issues/3383)
* Make ARIA polyfill more robust ([b185b3c](https://github.com/Telefonica/stv-shaka-player/commit/b185b3c9eab0d9a033b973dcdd6d855d342bfe86))
* Make XML parsing secure ([#4598](https://github.com/Telefonica/stv-shaka-player/issues/4598)) ([a76c58f](https://github.com/Telefonica/stv-shaka-player/commit/a76c58f6958562c5c6932bbe2042a414fa292315))
* **MCap:** Remove robustness when robustness value is default ([#4953](https://github.com/Telefonica/stv-shaka-player/issues/4953)) ([762b1e7](https://github.com/Telefonica/stv-shaka-player/commit/762b1e7b8b0a9f1443cd82ef388e5a3ce04a3f5e))
* **net:** Fix HEAD requests in new Chromium ([#5180](https://github.com/Telefonica/stv-shaka-player/issues/5180)) ([ec301e6](https://github.com/Telefonica/stv-shaka-player/commit/ec301e637d1314643f0b2fdfe4c8bcd68ec27f3b)), closes [#5164](https://github.com/Telefonica/stv-shaka-player/issues/5164)
* **offline:** Add storage muxer init timeout ([#4566](https://github.com/Telefonica/stv-shaka-player/issues/4566)) ([71180ce](https://github.com/Telefonica/stv-shaka-player/commit/71180ce5beda2439393026ae8f05db0ccc3d3d25))
* **offline:** Clean up orphaned segments on abort ([#4177](https://github.com/Telefonica/stv-shaka-player/issues/4177)) ([a5cc491](https://github.com/Telefonica/stv-shaka-player/commit/a5cc491a9269994c30e4c6efbd281c332951e281))
* **offline:** Do not apply CMCD query args to offline URIs ([#3716](https://github.com/Telefonica/stv-shaka-player/issues/3716)) ([173ae42](https://github.com/Telefonica/stv-shaka-player/commit/173ae42cdde973f6cb8a96a5e62057ddacd2a823)), closes [#3712](https://github.com/Telefonica/stv-shaka-player/issues/3712)
* **offline:** Fix error when un-storing DRM asset ([23e0d76](https://github.com/Telefonica/stv-shaka-player/commit/23e0d764a0ab58645d7e5fc953f524a49126920e)), closes [#3534](https://github.com/Telefonica/stv-shaka-player/issues/3534)
* **offline:** Speed up offline storage by ~87% ([#4176](https://github.com/Telefonica/stv-shaka-player/issues/4176)) ([dc27a26](https://github.com/Telefonica/stv-shaka-player/commit/dc27a263289e42f131f04bbc4c43e2c4f4e27870)), closes [#4166](https://github.com/Telefonica/stv-shaka-player/issues/4166)
* **performance:** Eliminate use of ES6 generators ([#4092](https://github.com/Telefonica/stv-shaka-player/issues/4092)) ([5bb5502](https://github.com/Telefonica/stv-shaka-player/commit/5bb5502a194154c6277ac7fb48addd314c37ebdb)), closes [#4062](https://github.com/Telefonica/stv-shaka-player/issues/4062)
* PERIOD_FLATTENING_FAILED error with shaka 3.3.x that did not occur with shaka 3.1.2 ([#5188](https://github.com/Telefonica/stv-shaka-player/issues/5188)) ([2cefcf4](https://github.com/Telefonica/stv-shaka-player/commit/2cefcf434dcd729469df94a20673ab9fe7d8d72b)), closes [#5183](https://github.com/Telefonica/stv-shaka-player/issues/5183)
* Populate track's spatialAudio property ([#4291](https://github.com/Telefonica/stv-shaka-player/issues/4291)) ([43fb21c](https://github.com/Telefonica/stv-shaka-player/commit/43fb21ce904b6580a200769b83f265a51c5f312d))
* Prevent bad calls to MediaSource.endOfStream ([#5071](https://github.com/Telefonica/stv-shaka-player/issues/5071)) ([9824474](https://github.com/Telefonica/stv-shaka-player/commit/98244742ec6add0a7514966b214e0411648e53a9)), closes [#5070](https://github.com/Telefonica/stv-shaka-player/issues/5070)
* Prevent content from being restarted after Postroll ads ([#4979](https://github.com/Telefonica/stv-shaka-player/issues/4979)) ([acebfa1](https://github.com/Telefonica/stv-shaka-player/commit/acebfa13f04bc15f0d65e2c47a1a7bdbbeea9e1e)), closes [#4445](https://github.com/Telefonica/stv-shaka-player/issues/4445)
* Rearrange checking & also check second period ([51f6c10](https://github.com/Telefonica/stv-shaka-player/commit/51f6c10b02c0466eb91cf28cf75f58826a1edb75))
* Reject TS content on Edge ([#5043](https://github.com/Telefonica/stv-shaka-player/issues/5043)) ([982d7bc](https://github.com/Telefonica/stv-shaka-player/commit/982d7bc389d7e9f3a380b64101b7aaa0cccce39e))
* Release region timeline when unloading ([#4871](https://github.com/Telefonica/stv-shaka-player/issues/4871)) ([4b2c945](https://github.com/Telefonica/stv-shaka-player/commit/4b2c945419f142525b4662385674957e43e1a2d5)), closes [#4850](https://github.com/Telefonica/stv-shaka-player/issues/4850)
* Remove IE 11 from default browsers for Windows ([#4272](https://github.com/Telefonica/stv-shaka-player/issues/4272)) ([c90e687](https://github.com/Telefonica/stv-shaka-player/commit/c90e687530650254950c5cde06a3004bfc32d051)), closes [#4271](https://github.com/Telefonica/stv-shaka-player/issues/4271)
* Reset forced subs between loads ([e9dc36d](https://github.com/Telefonica/stv-shaka-player/commit/e9dc36d13dbfb7cb8f3d98063a19059f343863a1))
* Respect existing app usage of Cast SDK ([#4523](https://github.com/Telefonica/stv-shaka-player/issues/4523)) ([d2258d6](https://github.com/Telefonica/stv-shaka-player/commit/d2258d60fab218738bfa6f80b675e65b9a7994dc)), closes [#4521](https://github.com/Telefonica/stv-shaka-player/issues/4521)
* return width and height in the stats when we are using src= ([#4435](https://github.com/Telefonica/stv-shaka-player/issues/4435)) ([b6ca090](https://github.com/Telefonica/stv-shaka-player/commit/b6ca090bda9d94781e4b7673cd2aaa443dfab7d0))
* Revert "Add missing module export in generated typescript defs" ([#4175](https://github.com/Telefonica/stv-shaka-player/issues/4175)) ([c44507a](https://github.com/Telefonica/stv-shaka-player/commit/c44507a2e86a81e56671534a9983da94a1c7baf4)), closes [#4167](https://github.com/Telefonica/stv-shaka-player/issues/4167)
* Select first of identical audio streams ([#3869](https://github.com/Telefonica/stv-shaka-player/issues/3869)) ([603fdc1](https://github.com/Telefonica/stv-shaka-player/commit/603fdc16014fad6a0cde520675b4c2359877c62b))
* Show captions with rapid seek when ignoreTextStreamFailures is true ([#3476](https://github.com/Telefonica/stv-shaka-player/issues/3476)) ([8aa3e9d](https://github.com/Telefonica/stv-shaka-player/commit/8aa3e9da702c0ccfcf6ef6f0ac522e5efc780fa4))
* Support multiple chapter tracks with same language ([#3868](https://github.com/Telefonica/stv-shaka-player/issues/3868)) ([01023df](https://github.com/Telefonica/stv-shaka-player/commit/01023dfaf0d15e1a2f387a37c886957b6bbe4dbb)), closes [#3597](https://github.com/Telefonica/stv-shaka-player/issues/3597)
* **text:** Allow comments in the TTML parser ([#3827](https://github.com/Telefonica/stv-shaka-player/issues/3827)) ([c5a81f5](https://github.com/Telefonica/stv-shaka-player/commit/c5a81f53fe8d7b523523c0d1ed5431542383c80d)), closes [#3766](https://github.com/Telefonica/stv-shaka-player/issues/3766)
* **text:** Fix caption overlap. ([4980195](https://github.com/Telefonica/stv-shaka-player/commit/498019583cd0f84f39c6cfda49b4972971ee08e1)), closes [#3850](https://github.com/Telefonica/stv-shaka-player/issues/3850) [#3741](https://github.com/Telefonica/stv-shaka-player/issues/3741)
* **text:** Fix cue region rendering in UI ([#4412](https://github.com/Telefonica/stv-shaka-player/issues/4412)) ([afbc3b6](https://github.com/Telefonica/stv-shaka-player/commit/afbc3b69e5361fa07d60f27b72a11f9e68068f80)), closes [#4381](https://github.com/Telefonica/stv-shaka-player/issues/4381)
* **text:** Fix timestamp offset of CEA-608 cues ([b6d7138](https://github.com/Telefonica/stv-shaka-player/commit/b6d71384660952a79a0cf0d41f9ad2898a03eb02)), closes [#3782](https://github.com/Telefonica/stv-shaka-player/issues/3782)
* **text:** Fix TTML render timing and line break issues ([#4407](https://github.com/Telefonica/stv-shaka-player/issues/4407)) ([1e68c6e](https://github.com/Telefonica/stv-shaka-player/commit/1e68c6e1555b169e8e29b311f54826a661cf4b42)), closes [#4381](https://github.com/Telefonica/stv-shaka-player/issues/4381)
* **text:** Fix UI test failures ([7da2cd5](https://github.com/Telefonica/stv-shaka-player/commit/7da2cd59ff7c9a019c13d23f6e73af1c065ed4d3)), closes [#3689](https://github.com/Telefonica/stv-shaka-player/issues/3689)
* **text:** Fixes minor bug with cue updating ([a4e348d](https://github.com/Telefonica/stv-shaka-player/commit/a4e348da7bf9d42276c05f35ed75c3ac5ec3ce23))
* **text:** Force caption update when removing cues ([4bdd3bb](https://github.com/Telefonica/stv-shaka-player/commit/4bdd3bb65a62df3ca91dc340cac5b5d699b56b9c))
* **text:** Inherit alignment from regions. ([21b731d](https://github.com/Telefonica/stv-shaka-player/commit/21b731dcd13a2599915c3124de053246a10c7d2e))
* **text:** Made nested cues inherit region ([#3837](https://github.com/Telefonica/stv-shaka-player/issues/3837)) ([bc5fabe](https://github.com/Telefonica/stv-shaka-player/commit/bc5fabed0e60dd8a531964c5b51d3b1c186e4acb)), closes [#3743](https://github.com/Telefonica/stv-shaka-player/issues/3743)
* **text:** Remove caption wrapper bgColor ([#3838](https://github.com/Telefonica/stv-shaka-player/issues/3838)) ([5346beb](https://github.com/Telefonica/stv-shaka-player/commit/5346bebdb26f0c4b42bad897ca2c469533a1b0ef)), closes [#3745](https://github.com/Telefonica/stv-shaka-player/issues/3745)
* **text:** support stpp.ttml codec in Mp4TtmlParser ([#3754](https://github.com/Telefonica/stv-shaka-player/issues/3754)) ([9e5b9ac](https://github.com/Telefonica/stv-shaka-player/commit/9e5b9ac1399e6a2772c7405de20f786ee1504331))
* Tizen video error fixed by checking the extended MIME type ([#4973](https://github.com/Telefonica/stv-shaka-player/issues/4973)) ([b663e99](https://github.com/Telefonica/stv-shaka-player/commit/b663e99b9447c5f65746876b4e58ec7e04ee7b7f)), closes [#4634](https://github.com/Telefonica/stv-shaka-player/issues/4634)
* Tolerate misaligned TS files ([20f3cb0](https://github.com/Telefonica/stv-shaka-player/commit/20f3cb0bc33a8933e51c304ffe623a38c16406f1)), closes [#3580](https://github.com/Telefonica/stv-shaka-player/issues/3580)
* Treat regions uniquely ([#4841](https://github.com/Telefonica/stv-shaka-player/issues/4841)) ([1c63ab0](https://github.com/Telefonica/stv-shaka-player/commit/1c63ab0d46d10af4cba49e78a095986d309fce3d)), closes [#4839](https://github.com/Telefonica/stv-shaka-player/issues/4839)
* **TTML:** Add font-family mapping ([#4801](https://github.com/Telefonica/stv-shaka-player/issues/4801)) ([7e93455](https://github.com/Telefonica/stv-shaka-player/commit/7e934556905e8be9f09de3efe81382b90978175f))
* **ttml:** Center subtitles by default ([#4023](https://github.com/Telefonica/stv-shaka-player/issues/4023)) ([02604ab](https://github.com/Telefonica/stv-shaka-player/commit/02604abb3d831d33cbe14f6b8a7808e29f419cbf))
* **ttml:** Default TTML background color to transparent if unspecified ([#4496](https://github.com/Telefonica/stv-shaka-player/issues/4496)) ([862ee42](https://github.com/Telefonica/stv-shaka-player/commit/862ee42f770b6fbd19e33fd04e98882d203caf4b)), closes [#4468](https://github.com/Telefonica/stv-shaka-player/issues/4468)
* **TTML:** Fix duplicate cues overlapping segment boundaries ([#4798](https://github.com/Telefonica/stv-shaka-player/issues/4798)) ([be98ae3](https://github.com/Telefonica/stv-shaka-player/commit/be98ae3720051c87a7685bb84aaa70567c5e3cb7)), closes [#4631](https://github.com/Telefonica/stv-shaka-player/issues/4631)
* **ttml:** Fix ttml erroneously dismissing cues. ([157bd77](https://github.com/Telefonica/stv-shaka-player/commit/157bd77be25ea7744d2d905f46dd3ee3eb1a611a)), closes [#3643](https://github.com/Telefonica/stv-shaka-player/issues/3643)
* Typings & remove unrelated tests ([e248db4](https://github.com/Telefonica/stv-shaka-player/commit/e248db408821568b73d62abfa58ea525b2f41ac1))
* **UI:** Ad position and ad counter are too close to each other ([#4416](https://github.com/Telefonica/stv-shaka-player/issues/4416)) ([ed5af4a](https://github.com/Telefonica/stv-shaka-player/commit/ed5af4a50d5557419c18b075a4b5f684bf415837))
* **UI:** Add cursor pointer to range elements ([#4059](https://github.com/Telefonica/stv-shaka-player/issues/4059)) ([2ca947e](https://github.com/Telefonica/stv-shaka-player/commit/2ca947ecad3ca208a379185e916cef7189b605bf)), closes [#3220](https://github.com/Telefonica/stv-shaka-player/issues/3220)
* **ui:** Avoid submitting form if player is inside form ([#4866](https://github.com/Telefonica/stv-shaka-player/issues/4866)) ([37c7cf9](https://github.com/Telefonica/stv-shaka-player/commit/37c7cf99cd5f7293ee0ff20c17551b10c2294266)), closes [#4861](https://github.com/Telefonica/stv-shaka-player/issues/4861)
* **ui:** Check event cancelable before event.preventDefault ([#4690](https://github.com/Telefonica/stv-shaka-player/issues/4690)) ([4a9a2f2](https://github.com/Telefonica/stv-shaka-player/commit/4a9a2f2da53af1216971ebf742a7a04ea14193c5))
* **ui:** Control panel alignment ([#3650](https://github.com/Telefonica/stv-shaka-player/issues/3650)) ([c55ce6c](https://github.com/Telefonica/stv-shaka-player/commit/c55ce6c11b655f53f3354e7ce67a9c88e1c9bce2))
* **ui:** Fix exception on screen rotation if fullscreen is not supported ([#4669](https://github.com/Telefonica/stv-shaka-player/issues/4669)) ([b7a841d](https://github.com/Telefonica/stv-shaka-player/commit/b7a841da65c501680947c54f047bc070035e8b4c))
* **ui:** Fix Russian translation ([#3751](https://github.com/Telefonica/stv-shaka-player/issues/3751)) ([3092063](https://github.com/Telefonica/stv-shaka-player/commit/3092063479f54dd21e2f86dfd27e013ffa69a87c))
* **ui:** Fix styling of UI text cues ([cdeffbb](https://github.com/Telefonica/stv-shaka-player/commit/cdeffbb9e6afcc68cb2165bcc0c99be20c9cb153)), closes [#3521](https://github.com/Telefonica/stv-shaka-player/issues/3521) [#3600](https://github.com/Telefonica/stv-shaka-player/issues/3600) [#3713](https://github.com/Telefonica/stv-shaka-player/issues/3713)
* **UI:** Fix text UI not updating when text is disabled ([#3867](https://github.com/Telefonica/stv-shaka-player/issues/3867)) ([0eadedd](https://github.com/Telefonica/stv-shaka-player/commit/0eadedda824dfaecdfd0a554c72834dd10bb5ad9)), closes [#3728](https://github.com/Telefonica/stv-shaka-player/issues/3728)
* **UI:** Fix time element height on Safari ([#3809](https://github.com/Telefonica/stv-shaka-player/issues/3809)) ([680ab22](https://github.com/Telefonica/stv-shaka-player/commit/680ab22acaaf58e870d922bff054f5d524eee875)), closes [#3739](https://github.com/Telefonica/stv-shaka-player/issues/3739)
* **UI:** Stop using setAttribute for ARIA ([#3489](https://github.com/Telefonica/stv-shaka-player/issues/3489)) ([3b2f7db](https://github.com/Telefonica/stv-shaka-player/commit/3b2f7dba042f62250dddf9a67dfb7d83da86c631))
* **UI:** Update Play icon after seeking from end ([#3515](https://github.com/Telefonica/stv-shaka-player/issues/3515)) ([8b418bb](https://github.com/Telefonica/stv-shaka-player/commit/8b418bb13c71a71486bcc6749226266cb76abd37))
* **ui:** Widen touchable button area ([#3249](https://github.com/Telefonica/stv-shaka-player/issues/3249)) ([62d1af7](https://github.com/Telefonica/stv-shaka-player/commit/62d1af7331f4f5d5a8fedef1fbd754c3a6ff93a8))
* Update Cast receiver ID for v3.2 ([1b2fa84](https://github.com/Telefonica/stv-shaka-player/commit/1b2fa840d9b383d659fe515c1ec27a23414447cc))
* Use "undetermined" for missing CC language ([3cc9ec5](https://github.com/Telefonica/stv-shaka-player/commit/3cc9ec50b42e5939ddcdc2f6f650076fd979960e))
* Use period ID instead of start time ([84f4578](https://github.com/Telefonica/stv-shaka-player/commit/84f45780aa5487b172d8eefe602f758fd76408a1))
* VTT Cue Parsing On PlayStation 4 ([#4340](https://github.com/Telefonica/stv-shaka-player/issues/4340)) ([e637006](https://github.com/Telefonica/stv-shaka-player/commit/e63700668d71c3b24c71e0c27446ab5c373c9384)), closes [#4321](https://github.com/Telefonica/stv-shaka-player/issues/4321)
* **VTT:** Fix combining style selectors ([#4934](https://github.com/Telefonica/stv-shaka-player/issues/4934)) ([dfa5dc7](https://github.com/Telefonica/stv-shaka-player/commit/dfa5dc7e137be1a2984280dbddb5c6363b71ed1a))
* **VTT:** Fix spacing between text lines ([#4961](https://github.com/Telefonica/stv-shaka-player/issues/4961)) ([a44fe84](https://github.com/Telefonica/stv-shaka-player/commit/a44fe84eddc851faea5276fd25dbbce78ddf3d7a))
* Wait for chapters track to be loaded ([#4228](https://github.com/Telefonica/stv-shaka-player/issues/4228)) ([6a1f0d0](https://github.com/Telefonica/stv-shaka-player/commit/6a1f0d0b2779134e472c817491086b2c18c35027)), closes [#4186](https://github.com/Telefonica/stv-shaka-player/issues/4186)
* WebVTT line not correctly positioned in UITextDisplayer ([#4567](https://github.com/Telefonica/stv-shaka-player/issues/4567)) ([#4682](https://github.com/Telefonica/stv-shaka-player/issues/4682)) ([fecf044](https://github.com/Telefonica/stv-shaka-player/commit/fecf044119704fd41db5c4d5ee7ed3deb492d862))
* **WebVTT:** Add support to &nbsp;, &lrm; and &rlm; ([#4920](https://github.com/Telefonica/stv-shaka-player/issues/4920)) ([b9ddf6a](https://github.com/Telefonica/stv-shaka-player/commit/b9ddf6ac1db9aab186ddf3e2fb794f8875993e10))
* **WebVTT:** Add support to voice tag styles ([#4845](https://github.com/Telefonica/stv-shaka-player/issues/4845)) ([acbfca1](https://github.com/Telefonica/stv-shaka-player/commit/acbfca15593e972a41215e7f81cba1b9a06edd52))
* **WebVTT:** Fix horizontal positioning with cue box size ([#4949](https://github.com/Telefonica/stv-shaka-player/issues/4949)) ([a16de64](https://github.com/Telefonica/stv-shaka-player/commit/a16de6474dade1ace63a8a6738de8e86cd89eff7))
* **WebVTT:** Fix voices with styles and support to multiple styles ([#4922](https://github.com/Telefonica/stv-shaka-player/issues/4922)) ([aee669e](https://github.com/Telefonica/stv-shaka-player/commit/aee669ecd284c6aa49467be4ac5ff6efd9cba5a5))
* **WebVTT:** Tags in the WebVTT subtitle are not parsed ([#4960](https://github.com/Telefonica/stv-shaka-player/issues/4960)) ([15afb4b](https://github.com/Telefonica/stv-shaka-player/commit/15afb4b36350da68074a2a1e67e6bb86f9eeddd1))
* Work around override of MediaCapabilities polyfill in Apple browsers ([#3668](https://github.com/Telefonica/stv-shaka-player/issues/3668)) ([31c0cd4](https://github.com/Telefonica/stv-shaka-player/commit/31c0cd4b8ca0daec1cd7760bffe2bd5376a7f5ab)), closes [#3530](https://github.com/Telefonica/stv-shaka-player/issues/3530)

---
This PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).